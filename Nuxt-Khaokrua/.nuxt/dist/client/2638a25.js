(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{468:function(e,t,n){var content=n(498);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(8).default)("d62b60f4",content,!0,{sourceMap:!1})},497:function(e,t,n){"use strict";n(468)},498:function(e,t,n){(t=n(7)(!1)).push([e.i,"#row-container,#row-header{width:97%;margin-left:20px;display:flex}.add-container{margin:15px auto;width:90%;position:relative}.wraper-sheet-add-menu{width:90%}.header-sheet-add-menu{border-radius:10px 10px 0 0;width:100%;padding:20px}.sheet-add-menu{border-radius:0 0 0 0;width:100%;padding:20px}.auto-tag-field{height:70px;display:flex;position:relative}.categlory-header{font-size:45px;margin:20px auto}.icon-more-tag-categlory{margin-top:15px}.field-recipe-detail{display:flex;justify-content:space-around}.field-recipe-detail .all-data{width:50%}.recipe-data{display:block}.recipe-data .prep-time{display:flex;justify-content:space-between;margin-top:10px}.prep-time .prep-time-input{width:20%;margin-left:20px}.prep-time-select{width:65%;margin-right:40px}.recipe-data .cook-time{display:flex;justify-content:space-between;margin-top:10px}.cook-time .cook-time-input{width:20%;margin-left:20px}.cook-time-select{width:65%;margin-right:40px}.recipe-data .for-serve{display:flex;justify-content:space-between;margin-top:10px}.serve-input{width:20%;margin-left:20px}.recipe-data .for-yield{display:flex;justify-content:space-between;margin-top:10px}.yield-input{width:20%;margin-left:20px}.yield-select{width:65%;margin-right:40px}.divider-between-prep{margin:10px auto 25px;width:90%}.div-card-add-recipe-img{margin-left:40px}#card-add-recipe-img{margin-top:15px;padding:30px;position:relative}.icon-in-add-img{top:40%}.icon-in-add-img,.text-in-add-img{position:absolute;text-align:center;width:100%;left:50%;right:50%;transform:translate(-50%,-50%)}.text-in-add-img{top:50%;font-weight:700;margin:30px auto}.ingredients-header{font-size:45px;margin:20px auto}.field-recipe-ingredients{display:block}.btn-for-add-recipe{width:100%;display:flex;justify-content:center}.text-label{display:flex}.input-name{width:60%}.btn-cancel{padding:15px}.ingredient-item-label{font-size:16px}.delete-ingredient{cursor:pointer;transition:.25s ease-in-out}.delete-ingredient:hover{transform:scale(1.2)}.ingredient-item-edit{width:100%;margin-top:15px}.directions-header{font-size:45px;margin:20px auto}.directions-item-label{font-size:16px}.delete-directions{cursor:pointer;transition:.25s ease-in-out}.delete-directions:hover{transform:scale(1.2)}.directions-item-edit{width:100%;margin-top:15px}.ActionAddIngred{display:flex}.ingredients-field{display:flex;position:relative;height:70px;justify-content:space-between}@media only screen and (max-width:960px){#card-add-recipe-img{width:200px}.div-card-add-recipe-img{margin-left:20px}.cook-time-select,.prep-time-select,.serve-select,.yield-select{margin-right:20px}}@media only screen and (max-width:1264px){#card-add-recipe-img{width:200px}.div-card-add-recipe-img{margin-left:20px}.cook-time-select,.prep-time-select,.serve-select,.yield-select{margin-right:20px}}@media only screen and (max-width:600px){#card-add-recipe-img{width:200px}.wraper-sheet-add-menu{width:100%}.div-card-add-recipe-img{margin:25px auto}.cook-time-select,.prep-time-select,.serve-select,.yield-select{margin-right:20px}.field-recipe-detail .all-data{width:100%}.field-recipe-detail{display:block}}",""]),e.exports=t},528:function(e,t,n){"use strict";n.r(t);n(36),n(197),n(53);var l=n(11),r=n(60),d=n.n(r),c={components:{},data:function(){return{isEditing:!0,model:null,states:["ไข่ดาว","ไข่เจียว","ต้มยำกุ้ง","กะเพราหมูสับ","เบอร์เกอร์","ก๋วยเตี๋ยว"],prep:["นาที","ชั่วโมง","วัน"],cookTime:["นาที","ชั่วโมง","วัน"],idIngred:0,Ingredients:[{id:0,text:"น้ำปลา",unit:"2 ช้อนโต๊ะ"}],newIngred:null,newUnit:null,idStep:0,steps:[],newStep:null,breadcrumbs:[{text:"หน้าแรก",disabled:!1,href:"/"},{text:"แก้ไขสูตรอาหาร",disabled:!0,href:"add"}],DataRecipe:{title:null,photo_recipe:"https://img.freepik.com/free-photo/board-amidst-cooking-ingredients_23-2147749529.jpg",description:null,RecipeTag:null,PrepTime:{num:null,unit:null},CookTime:{num:null,unit:null},serve:null,Yield:{num:null,unit:null},Ingredients:[],Directions:[]}}},methods:{getDataRecipe:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("SET_DIALOG_LOADING",!0),n=t.$route.query.rid,e.next=4,d.a.get("http://127.0.0.1:5000/api/recipe/"+n).then((function(e){t.recipeDetail=e.data,console.log(e.data)}));case 4:t.$store.commit("SET_DIALOG_LOADING",!1);case 5:case"end":return e.stop()}}),e)})))()},openUploadModal:function(){var e=this;window.cloudinary.openUploadWidget({cloud_name:"khaokruacooking",upload_preset:"imgkhaokruacook"},(function(t,n){!t&&n&&"success"===n.event&&(console.log("Done uploading..: ",n.info),console.log("here is your pic!",n.info.url),e.DataRecipe.photo_recipe=n.info.url,console.log("your finally pic!",e.DataRecipe.photo_recipe))})).open()},addIngred:function(){this.Ingredients.push({text:this.newIngred,unit:this.newUnit}),this.idIngred++,console.log(this.Ingredients),this.DataRecipe.Ingredients=this.Ingredients.slice(0,this.Ingredients.length-1)},addIngredbeforePost:function(){this.DataRecipe.Ingredients=this.Ingredients,console.log(this.Ingredients)},deleteIngredient:function(e){this.Ingredients.splice(e,1),this.DataRecipe.Ingredients=this.Ingredients,console.log(this.Ingredients)},createStep:function(){this.steps.push({id:this.idStep,text:this.newStep,editing:!1}),this.idStep++,this.newStep=null,this.DataRecipe.Directions=this.steps,console.log(this.steps)},deleteStep:function(e){this.steps.splice(e,1),console.log(this.steps)},editStep:function(e){e.editing=!0},doneEditStep:function(e){e.editing=!1},saveRecipeData:function(e){d.a.put("http://127.0.0.1:5000/api/recipe/edit/"+e).then((function(e){console.log(e)})),console.log(this.DataRecipe)}},mounted:function(){this.getDataRecipe(this.rid)}},o=(n(497),n(29)),v=n(30),m=n.n(v),x=n(522),f=n(463),h=n(441),y=n(425),_=n(411),w=n(263),k=n(416),C=n(172),D=n(455),S=n(519),I=n(39),R=n(414),$=n(493),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-container"},[n("v-row",{staticClass:"md-6",attrs:{id:"row-first","no-gutters":"",justify:"center"}},[n("v-sheet",{staticClass:"header-sheet-add-menu",attrs:{color:"white",height:"150"}},[n("v-breadcrumbs",{staticStyle:{position:"absolute",left:"0px",top:"0px"},attrs:{items:e.breadcrumbs,large:""},scopedSlots:e._u([{key:"item",fn:function(t){var l=t.item;return[n("v-breadcrumbs-item",{attrs:{href:l.href,disabled:l.disabled}},[e._v("\n            "+e._s(l.text.toUpperCase())+"\n          ")])]}}])}),e._v(" "),n("h1",{staticStyle:{"text-align":"center","margin-top":"60px"}},[e._v("แก้ไขสูตรอาหาร")])],1)],1),e._v(" "),n("v-row",{staticClass:"md-6",attrs:{id:"row-second","no-gutters":""}},[n("v-sheet",{staticClass:"sheet-add-menu"},e._l(e.recipeDetail,(function(data){return n("div",{key:data.recipe_id,staticClass:"wraper-sheet-add-menu"},[n("div",{staticClass:"field-recipe-title"},[n("div",{staticStyle:{display:"flex"}},[n("v-text-field",{attrs:{outlined:"",label:"ชื่อเมนู","append-icon":"help_outline",value:data.title},model:{value:e.recipeDetail.title,callback:function(t){e.$set(e.recipeDetail,"title",t)},expression:"recipeDetail.title"}})],1),e._v(" "),n("v-textarea",{attrs:{outlined:"",label:"รายละเอียด"},model:{value:data.RecipeCaption,callback:function(t){e.$set(data,"RecipeCaption",t)},expression:"data.RecipeCaption"}})],1),e._v(" "),n("div",{staticClass:"field-recipe-categlories",staticStyle:{height:"200px"}},[n("span",{staticClass:"categlory-header"},[e._v("หมวดหมู่")]),e._v(" "),n("v-divider",{staticStyle:{margin:"5px 0px 20px 0px"}}),e._v(" "),n("div",{staticClass:"auto-tag-field"},[n("v-autocomplete",{attrs:{chips:"","deletable-chips":"",outlined:"",multiple:"",items:e.states,readonly:!e.isEditing,label:"ทำไรกินดีน้า"},model:{value:e.recipeDetail.RecipeTag,callback:function(t){e.$set(e.recipeDetail,"RecipeTag",t)},expression:"recipeDetail.RecipeTag"}}),e._v(" "),n("v-btn",{staticClass:"icon-more-tag-categlory",attrs:{icon:""}},[n("v-icon",[e._v("more_horiz")])],1)],1)],1),e._v(" "),n("div",{staticClass:"field-recipe-detail"},[n("div",{staticClass:"div-card-add-recipe-img"},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"400",id:"card-add-recipe-img",height:"200px",width:"240px"}},[n("v-btn",{staticClass:"icon-in-add-img",attrs:{"x-large":"",elevation:"5",icon:"",raised:""},on:{click:e.openUploadModal}},[n("v-icon",[e._v("add")])],1),e._v(" "),n("v-card-title",[n("span",{staticClass:"text-in-add-img"},[e._v("เพิ่มรูปภาพ")])])],1)],1),e._v(" "),n("div",{staticClass:"all-data",staticStyle:{display:"block"}},[n("div",{staticClass:"recipe-data"},[n("span",[e._v("เวลาเตรียม :")]),e._v(" "),n("div",{staticClass:"prep-time"},[n("div",{staticClass:"prep-time-input"},[n("v-text-field",{attrs:{solo:"",placeholder:"ใส่เวลาเตรียม"},on:{blur:e.AddPrepTime},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1),e._v(" "),n("div",{staticClass:"prep-time-select"},[n("v-select",{attrs:{items:e.prep,label:"เวลา",solo:""},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1)])]),e._v(" "),n("div",{staticClass:"recipe-data"},[n("span",[e._v("เวลาทำอาหาร :")]),e._v(" "),n("div",{staticClass:"cook-time"},[n("div",{staticClass:"cook-time-input"},[n("v-text-field",{attrs:{solo:"",placeholder:"ใส่เวลาทำ"},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1),e._v(" "),n("div",{staticClass:"cook-time-select"},[n("v-select",{attrs:{items:e.cookTime,label:"เวลา",solo:""},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1)])]),e._v(" "),n("v-divider",{staticClass:"divider-between-prep"}),e._v(" "),n("div",{staticClass:"recipe-data"},[n("span",[e._v("เสิร์ฟ :")]),e._v(" "),n("div",{staticClass:"for-serve"},[n("div",{staticClass:"serve-input"},[n("v-text-field",{attrs:{solo:"",placeholder:"สำหรับกี่ที่"},model:{value:e.recipeDetail.Serve,callback:function(t){e.$set(e.recipeDetail,"Serve",t)},expression:"recipeDetail.Serve"}})],1)])]),e._v(" "),n("div",{staticClass:"recipe-data",staticStyle:{display:"block"}},[n("span",[e._v("จำนวน :")]),e._v(" "),n("div",{staticClass:"for-yield"},[n("div",{staticClass:"yield-input"},[n("v-text-field",{attrs:{solo:"",placeholder:"จำนวน"},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1),e._v(" "),n("div",{staticClass:"yield-select"},[n("v-text-field",{attrs:{solo:""},model:{value:e.recipeDetail.serve,callback:function(t){e.$set(e.recipeDetail,"serve",t)},expression:"recipeDetail.serve"}})],1)])])],1)]),e._v(" "),n("div",{staticClass:"field-recipe-ingredients"},[n("span",{staticClass:"ingredients-header"},[e._v("ส่วนผสม")]),e._v(" "),n("v-divider",{staticStyle:{margin:"5px 0px 20px 0px"}}),e._v(" "),e._l(e.Ingredients,(function(t){return n("v-sheet",{key:t.id,staticClass:"sheet-ingredients"},[n("div",{staticClass:"ingredients-field"},[n("div",{staticClass:"input-name"},[n("v-text-field",{staticStyle:{margin:"15px 0px 15px 0px"},attrs:{id:t.text,value:t.text,outlined:"",clearable:"",placeholder:"เช่น น้ำมะนาว"},on:{blur:e.addIngredbeforePost},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"ingred.text"}})],1),e._v(" "),n("div",{staticClass:"input-unit",staticStyle:{width:"40%"}},[n("v-text-field",{staticStyle:{margin:"15px 0px 15px 20px"},attrs:{id:t.unit,value:t.unit,outlined:"",clearable:"",placeholder:"เช่น 2 ช้อนโต๊ะ"},on:{blur:e.addIngredbeforePost},model:{value:t.unit,callback:function(n){e.$set(t,"unit",n)},expression:"ingred.unit"}})],1),e._v(" "),n("div",{staticClass:"action"},[n("span",{staticClass:"delete-directions",on:{click:e.deleteStep}},[n("v-icon",{staticStyle:{"margin-top":"28px","margin-left":"10px"},on:{click:e.deleteIngredient}},[e._v("delete")])],1)])])])})),e._v(" "),n("div",{staticClass:"btn-add-line-ingred",staticStyle:{margin:"20px",display:"flex","justify-content":"center"}},[n("v-btn",{attrs:{outlined:"",color:"success"},on:{click:e.addIngred}},[n("span",[n("v-icon",[e._v("add")])],1),e._v(" เพิ่มส่วนผสม")])],1)],2),e._v(" "),n("div",{staticClass:"field-recipe-directions"},[n("span",{staticClass:"directions-header"},[e._v("วิธีทำ")]),e._v(" "),n("v-divider",{staticStyle:{margin:"5px 0px 20px 0px"}}),e._v(" "),e._l(e.steps,(function(t,l){return n("v-sheet",{key:t.id,staticClass:"sheet-directions"},[n("div",{staticClass:"directions-field",staticStyle:{position:"relative",height:"50px"}},[t.editing?n("div",{staticClass:"directions-item-edit"},[n("v-text-field",{staticStyle:{margin:"0px"},attrs:{autofocus:"",outlined:"",clearable:""},on:{blur:function(n){return e.doneEditStep(t)},keydown:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.doneEditStep(t)}},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"step.text"}})],1):n("div",{staticClass:"directions-item-label",on:{dblclick:function(n){return e.editStep(t)}}},[0!==l?n("v-divider",{key:l+"-divider",staticStyle:{margin:"15px 0px 15px 0px",width:"100%"}}):e._e(),e._v(" "),n("div",{staticClass:"text-label",staticStyle:{display:"flex","justify-content":"space-between"}},[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.text))]),e._v(" "),n("span",{staticClass:"delete-directions",on:{click:e.deleteStep}},[n("v-icon",[e._v("delete")])],1)])],1)])])})),e._v(" "),n("v-text-field",{staticStyle:{"margin-top":"25px"},attrs:{outlined:"",clearable:"",placeholder:"เช่น น้ำมะนาว 2 ช้อนโต๊ะ"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.createStep(t)}},model:{value:e.newStep,callback:function(t){e.newStep=t},expression:"newStep"}})],2),e._v(" "),n("div",{staticClass:"btn-for-add-recipe"},[n("div",{staticClass:"btn-save"},[n("v-btn",{attrs:{"x-large":"",color:"success"},on:{click:e.saveRecipeData}},[n("span",[e._v("บันทึก")])])],1),e._v(" "),n("div",{staticClass:"btn-cancel"},[n("span",[e._v("หรือ")]),e._v(" "),n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"#"}},[e._v("ยกเลิก")])])])])})),0)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VAutocomplete:x.a,VBreadcrumbs:f.a,VBreadcrumbsItem:h.a,VBtn:y.a,VCard:_.a,VCardTitle:w.c,VDivider:k.a,VIcon:C.a,VRow:D.a,VSelect:S.a,VSheet:I.a,VTextField:R.a,VTextarea:$.a})}}]);